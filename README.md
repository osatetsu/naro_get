# NARO_GET

## 概要

本ツール群は、[小説を読もう!]() / [小説家になろう]() ウェブサイトから任意の小説を1話ずつダウンロードし、本文部分を結合した html ファイルを作成します。
この結合した html ファイルは、Kindle で読むことを意図しています。

使用方法は後述します。

### 主な機能

* html 形式でのダウンロード
* 本文部分を結合した html ファイルの作成
* 結合(分割)の単位
    * 章の数
    * 任意の文字数(章立ての無い小説を、どこで区切るか)
* 空行の削除
* 目次の作成
* 横書き

結合(分割)は、単一の大きなファイルの場合、Kindle での操作性が悪化するための措置です。
ファイルサイズは 500KiB くらいが目安になろうかと思います。

## 事前に必要なもの

 * Python 3.11 以降
    * Windows 11 であれば、Microsoft store からインストールするのが簡単です。

## 使用方法

 1. [小説を読もう!]から、読みたい小説のNコードを調べます。
     1. 例えば https://ncode.syosetu.com/n6316bn/ であれば、`n6316bn` がNコードとなっています。
 2. Terminal から `python download.py Nコード` を実行します。
     1. Nコードは小文字としてください。
     2. 既定ではカレントディレクトリに `download/Nコード/` ディレクトリを作成し、そこへダウンロードしていきます。
     3. すでにダウンロードしたファイル(話数)が存在した場合、ダウンロードはスキップします。
 3. `python cat_html.py Nコード` を実行します。
     1. `download/Nコード.output/` ディレクトリが作成され、そこへ結合した html ファイルを出力します。
     2. 出力された html ファイルについて、ファイルサイズや話数の切れ目を確認してください。
 4. [Send to Kindle]() を使用し、結合した html ファイルを Kindle ライブラリへ追加してください。Amazon 側で変換処理がなされるため、少し時間がかかります。
 5. お手持ちの Kindle にて小説を読んでください。

もし、[Send to Kindle]() にて変換に失敗するなど、不具合がありましたら [Issues](https://github.com/osatetsu/naro_get/issues) からご連絡ください。
また、機能のついてのご要望も同様に Issues へお願いします。

## Tips

 1. Send to Kindle で送るファイルは、少数が良いかと思う。
    大量に送った場合、変換時間がかかること、および、Kindle で見つけにくいことから。
 2. 読み終わったファイルは Kindle ライブラリから削除していくと良いかと思う。
    大量のファイルに埋もれて、目的とする書籍を探し出しにくくなることから。
 3. 同一小説に対し `download.py` の実行頻度は、多くても1日1回程度が望ましい。
    更新頻度の高い小説でも1日1話が追加されるかどうかであるため。

## サポート

ko-fi にてご寄付いただけると、活動の励みになります。

[![ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/E1E1U0BU1)

## 免責事項 / 利用条件

  1. 本ツールは使用者の自己責任で使用すること。
  2. 小説の著作者、および、[小説を読もう!]()運営の権利や規約に則り使用すること。
  3. 本ツールは[小説を読もう!]()運営会社やAmazon社とは無関係である。本ツールに関し、それら企業への問い合わせはしないこと。
  4. 本ツールやソースコードを使用することにより、[小説を読もう!]()サーバーへ、いたずらに負荷をかけないこと。
  5. 本ツールで作成したファイルは、使用者個人が楽しむことのみ利用可とする。商用利用、あるいは、不特定多数への公開は禁止とする。

### このツールに実装しないもの

 * epub 形式への変換
   * 悪用が怖いため実装しない。

 * eメールによる Send to Kindle
   * SMTPサーバーを用意したくない。見知らぬサーバーを経由させたいか？

 * 縦書き
   * 縦書きを利用したい場合は、[小説を読もう!]()公式機能の縦書きPDFがあります。
   * 本ツールで非対応の理由は、英単語やルビの処理を共通にできないことから。例えば、英単語や数字を、回転させるのか縦中横にするのかなどです。

- - -

## Appendix

 * [小説を読もう!](https://yomou.syosetu.com/)
 * [小説家になろう](https://syosetu.com/)
 * [Send to Kindle](https://www.amazon.co.jp/sendtokindle)
 * [Python](https://www.python.org/)
